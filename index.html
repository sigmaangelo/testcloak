<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Fullscreen Exit Detection</title>
<style>
  body {
    display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; font-family: Arial, sans-serif;
  }
  #startBtn {
    padding: 20px; font-size: 1.5em; cursor: pointer;
  }
</style>
</head>
<body>

<button id="startBtn">Enter Fullscreen</button>

<script>
const startBtn = document.getElementById('startBtn');

startBtn.onclick = () => {
  // Enter fullscreen
  if (document.documentElement.requestFullscreen) {
    document.documentElement.requestFullscreen();
  } else if (document.documentElement.webkitRequestFullscreen) {
    document.documentElement.webkitRequestFullscreen();
  } else if (document.documentElement.msRequestFullscreen) {
    document.documentElement.msRequestFullscreen();
  }
};

// Detect when fullscreen is exited
function handleFullscreenChange() {
  if (
    !document.fullscreenElement &&
    !document.webkitFullscreenElement &&
    !document.msFullscreenElement
  ) {
    // Fullscreen exited
    // Attempt to close tab (may not work in all browsers)
    window.close();

    // Fallback: redirect to about:blank or your exit page
    // window.location.href = 'about:blank';
  }
}

document.addEventListener('fullscreenchange', handleFullscreenChange);
document.addEventListener('webkitfullscreenchange', handleFullscreenChange);
document.addEventListener('MSFullscreenChange', handleFullscreenChange);
</script>

</body>
</html>
