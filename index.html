<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Detect Exit Fullscreen</title>
<style>
  body {
    display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; font-family: Arial, sans-serif;
  }
  #startBtn {
    padding: 20px; font-size: 1.5em; cursor: pointer;
  }
</style>
</head>
<body>

<button id="startBtn">Go Fullscreen & Lock</button>

<script>
const btn = document.getElementById('startBtn');

btn.onclick = () => {
  // Enter fullscreen
  if (document.documentElement.requestFullscreen) {
    document.documentElement.requestFullscreen();
  } else if (document.documentElement.webkitRequestFullscreen) {
    document.documentElement.webkitRequestFullscreen();
  } else if (document.documentElement.msRequestFullscreen) {
    document.documentElement.msRequestFullscreen();
  }
};

// Listen for fullscreen change events
function handleFullscreenChange() {
  if (!document.fullscreenElement && !document.webkitFullscreenElement && !document.msFullscreenElement) {
    // Fullscreen has been exited
    alert('Fullscreen exited! Closing tab...');
    // Attempt to close tab
    window.close();

    // If window.close() doesn't work, redirect
    // window.location.href = 'about:blank';
  }
}

document.addEventListener('fullscreenchange', handleFullscreenChange);
document.addEventListener('webkitfullscreenchange', handleFullscreenChange);
document.addEventListener('MSFullscreenChange', handleFullscreenChange);
</script>

</body>
</html>
